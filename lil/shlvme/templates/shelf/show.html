{% extends "layouts/base.html" %}

{% block content %}
	<article class="half-half">
		<h1>
			<a href="{% url user_home shelf_user.username %}">
				{{ shelf_user.username }}&rsquo;s
			</a>
			{{ shelf_name }}
		</h1>
	
		<section class="left-column">
			{% include "partials/messages.html" %}
			<div id="active-stack"></div>
		</section>

		<section class="right-column">
			<div id="active-item"></div>
		</section>
	</article>
{% endblock content %}

{% block templates %}
	<script type='text/x-template' id="item-details">
		<div class="item-details">
			<h3><a href="<%=link%>"><%=title%></a></h3>
			<ul>
				<li>
					<h4>Creators:</h4>
					<%=creator.join(', ')%>
				</li>
				<li>
					<h4>Published:</h4>
					<%=pub_date%>
				</li>
				<li>
					<h4>ISBN:</h4>
					<%=isbn%>
				</li>
				<li>
					<h4>Item Created:</h4>
					<%=creation_date%>
				</li>
			</ul>
			<p><a href="/shlvme/api/item/<%=item_uuid%>" class="button negative delete-item">Delete Item</a></p>
		</div>
	</script>
{% endblock templates %}

{% block scripts %}
	{{ block.super }}
	<script type="text/javascript">
    $(function () { 
			$('#active-stack').stackView({
		    data: {% autoescape off %}{{ shelf_items }}{% endautoescape %},
		    ribbon: '{{ shelf_name }}'
			});
		});
	</script>	
{% endblock scripts %}